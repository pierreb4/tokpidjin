def solve_6d0160f0(S, I):
    return paint(paint(I, mapply(lbind(shift, recolor_i(ZERO, asindices(crop(I, ORIGIN, THREE_BY_THREE)))), product(insert(EIGHT, insert(FOUR, initset(ZERO))), insert(EIGHT, insert(FOUR, initset(ZERO)))))), shift(toobject(asindices(replace(crop(I, astuple(branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), SEVEN), EIGHT, branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), THREE), FOUR, ZERO)), branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), SEVEN), EIGHT, branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), THREE), FOUR, ZERO))), THREE_BY_THREE), FIVE, ZERO)), replace(crop(I, astuple(branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), SEVEN), EIGHT, branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), THREE), FOUR, ZERO)), branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), SEVEN), EIGHT, branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), THREE), FOUR, ZERO))), THREE_BY_THREE), FIVE, ZERO)), multiply(get_nth_f(f_ofcolor(replace(crop(I, astuple(branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), SEVEN), EIGHT, branch(greater(get_nth_f(get_nth_f(f_ofcolor(I, FOUR), F0), F0), THREE), FOUR, ZERO)), branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), SEVEN), EIGHT, branch(greater(get_nth_t(get_nth_f(f_ofcolor(I, FOUR), F0), L1), THREE), FOUR, ZERO))), THREE_BY_THREE), FIVE, ZERO), FOUR), F0), FOUR)))
