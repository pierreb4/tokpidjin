def solve_a78176bb(S, I):
    return replace(fill(I, other_f(remove(ZERO, palette_t(I)), FIVE), combine_f(mapply(fork(combine, rbind(shoot, UNITY), rbind(shoot, NEG_UNITY)), apply(rbind(add, UP_RIGHT), apply(rbind(corner, R1), sfilter_f(colorfilter(o_g(I, R5), FIVE), matcher(compose(lbind(index, I), rbind(corner, R1)), FIVE))))), mapply(fork(combine, rbind(shoot, UNITY), rbind(shoot, NEG_UNITY)), apply(rbind(add, DOWN_LEFT), apply(rbind(corner, R2), difference(colorfilter(o_g(I, R5), FIVE), sfilter_f(colorfilter(o_g(I, R5), FIVE), matcher(compose(lbind(index, I), rbind(corner, R1)), FIVE)))))))), FIVE, ZERO)
