def solve_f9012d9b(S, I):
    return subgrid(f_ofcolor(I, c_iz_n(S, identity(p_g), rbind(get_nth_t, F0))), paint(I, mapply(lbind(shift, mfilter_f(o_g(I, R4), chain(flip, lbind(contained, c_iz_n(S, identity(p_g), rbind(get_nth_t, F0))), palette_t))), apply(rbind(multiply, astuple(vperiod(asobject(extract(vsplit(I, TWO), chain(flip, lbind(contained, c_iz_n(S, identity(p_g), rbind(get_nth_t, F0))), palette_t)))), hperiod(asobject(extract(hsplit(I, TWO), chain(flip, lbind(contained, c_iz_n(S, identity(p_g), rbind(get_nth_t, F0))), palette_t)))))), mapply(neighbors, neighbors(ORIGIN))))))
