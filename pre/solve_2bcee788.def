def solve_2bcee788(S, I):
    return paint(replace(I, get_color_rank_t(I, F0), THREE), shift(sfilter_f(asobject(branch(hline_o(get_arg_rank_f(o_g(I, R5), size, L1)), mir_rot_t(subgrid(get_arg_rank_f(o_g(I, R5), size, F0), replace(I, get_color_rank_t(I, F0), THREE)), R0), mir_rot_t(subgrid(get_arg_rank_f(o_g(I, R5), size, F0), replace(I, get_color_rank_t(I, F0), THREE)), R2))), compose(flip, matcher(rbind(get_nth_f, F0), THREE))), add(corner(get_arg_rank_f(o_g(I, R5), size, F0), R0), multiply(shape_f(get_arg_rank_f(o_g(I, R5), size, F0)), astuple(branch(hline_o(get_arg_rank_f(o_g(I, R5), size, L1)), get_nth_t(position(get_arg_rank_f(o_g(I, R5), size, F0), get_arg_rank_f(o_g(I, R5), size, L1)), F0), ZERO), branch(hline_o(get_arg_rank_f(o_g(I, R5), size, L1)), ZERO, get_nth_t(position(get_arg_rank_f(o_g(I, R5), size, F0), get_arg_rank_f(o_g(I, R5), size, L1)), L1)))))))
