def solve_447fd412(S, I):
    return paint(I, mapply(fork(mapply, lbind(lbind, shift), compose(lbind(apply, increment), fork(apply, chain(lbind(rbind, subtract), rbind(corner, R0), fork(difference, identity, fork(sfilter, identity, compose(lbind(matcher, rbind(get_nth_f, F0)), rbind(get_color_rank_f, F0))))), chain(lbind(occurrences, I), fork(combine, identity, compose(lbind(recolor_i, ZERO), outbox)), fork(difference, identity, fork(sfilter, identity, compose(lbind(matcher, rbind(get_nth_f, F0)), rbind(get_color_rank_f, F0)))))))), rapply_t(apply(lbind(rbind, upscale_f), interval(ONE, FOUR, ONE)), normalize(get_arg_rank_f(o_g(I, R3), numcolors_f, F0)))))
