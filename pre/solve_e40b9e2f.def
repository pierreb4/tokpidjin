def solve_e40b9e2f(S, I):
    return paint(paint(I, get_arg_rank_f(apply(lbind(shift, compose(rbind(mir_rot_f, R0), rbind(mir_rot_f, R2))(get_nth_f(o_g(I, R3), F0))), mapply(neighbors, neighbors(ORIGIN))), lbind(intersection, get_nth_f(o_g(I, R3), F0)), F0)), get_arg_rank_f(apply(lbind(shift, compose(rbind(mir_rot_f, R2), rbind(mir_rot_f, R1))(get_nth_f(o_g(paint(I, get_arg_rank_f(apply(lbind(shift, compose(rbind(mir_rot_f, R0), rbind(mir_rot_f, R2))(get_nth_f(o_g(I, R3), F0))), mapply(neighbors, neighbors(ORIGIN))), lbind(intersection, get_nth_f(o_g(I, R3), F0)), F0)), R3), F0))), mapply(neighbors, neighbors(ORIGIN))), compose(size, lbind(intersection, get_nth_f(o_g(I, R3), F0))), F0))
